(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{7077:function(e,t,a){Promise.resolve().then(a.bind(a,8456))},8030:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var i=a(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,i.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...h}=e;return(0,i.createElement)("svg",{ref:t,...r,width:n,height:n,stroke:a,strokeWidth:c?24*Number(l)/Number(n):l,className:s("lucide",o),...h},[...u.map(e=>{let[t,a]=e;return(0,i.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,i.forwardRef)((a,r)=>{let{className:c,...o}=a;return(0,i.createElement)(l,{ref:r,iconNode:t,className:s("lucide-".concat(n(e)),c),...o})});return a.displayName="".concat(e),a}},7138:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var i=a(231),n=a.n(i)},8456:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var i=a(7437),n=a(7138),s=a(2265),r=a(2974),l=a(2218),c=a(9354);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:n,size:s,asChild:l=!1,...d}=e,u=l?r.g7:"button";return(0,i.jsx)(u,{className:(0,c.cn)(o({variant:n,size:s,className:a})),ref:t,...d})});d.displayName="Button";let u=s.forwardRef((e,t)=>{let{className:a,type:n,...s}=e;return(0,i.jsx)("input",{type:n,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});u.displayName="Input";var h=a(8030);let v=(0,h.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),m=(0,h.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),p=(0,h.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),f=(0,h.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),x=(0,h.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function y(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(0),[l,c]=(0,s.useState)([]),o=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("travelPlan");e?t(JSON.parse(e)):t([{title:"Day 1",activities:[{place:"Eiffel Tower",time:"10:00",period:"AM",activity:"Visit"},{place:"Louvre Museum",time:"2:00",period:"PM",activity:"Tour"}]}])},[]);let h=i=>{t(e.filter((e,t)=>t!==i)),c([...l,i+1]),a===i&&r(-1)},y=a=>{let i=[...e];i[a].activities.push({place:"",time:"",period:"AM",activity:""}),t(i)},g=(a,i)=>{let n=[...e];n[a].activities.splice(i,1),t(n)},j=(a,i,n,s)=>{let r=[...e];r[a].activities[i][n]=s,t(r)},N=e=>{a===e?r(-1):r(e)},b=async()=>{try{let t=await fetch("/api/save-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days:e})});if(t.ok){let e=await t.json();alert(e.message)}else{let e=await t.json();alert(e.message)}}catch(e){console.error("저장 중 오류:",e),alert("서버와 연결하는 중 오류가 발생했습니다.")}};return(0,i.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,i.jsx)("header",{className:"mainpage-header",children:(0,i.jsxs)("div",{className:"mainpage-header-content",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"mainpage-title",children:"Travel Planner"}),(0,i.jsx)("p",{className:"mainpage-subtitle",children:"Plan your dream vacation with ease"})]}),(0,i.jsx)("nav",{children:(0,i.jsxs)("ul",{className:"mainpage-nav",children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.default,{href:"/",prefetch:!1,className:"mainpage-link",children:"Home"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.default,{href:"#",prefetch:!1,className:"mainpage-link",children:"Explore"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.default,{href:"create_plan",prefetch:!1,className:"mainpage-link",children:"Create"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.default,{href:"#",prefetch:!1,className:"mainpage-link",children:"About"})})]})})]})}),(0,i.jsx)("main",{className:"flex-1",children:(0,i.jsx)("div",{className:"itinerary-container",children:(0,i.jsxs)("div",{className:"itinerary-layout",children:[(0,i.jsx)("div",{className:"map-section",children:(0,i.jsx)(Map,{days:e})}),(0,i.jsxs)("div",{className:"itinerary-content",children:[(0,i.jsxs)("div",{className:"button-container",children:[(0,i.jsx)(d,{onClick:()=>{let a;l.length>0?(a=Math.min(...l),c(l.filter(e=>e!==a))):a=e.length+1;let i={title:"Day ".concat(a),activities:[]},n=[...e];n.splice(a-1,0,i),t(n)},className:"add-day-button",children:"Add Day"}),(0,i.jsxs)("div",{className:"plan-buttons",children:[(0,i.jsxs)(d,{onClick:b,className:"save-plan-button",children:[(0,i.jsx)(v,{className:"save-icon"}),"Save Plan"]}),(0,i.jsxs)(d,{onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},className:"load-plan-button",children:[(0,i.jsx)(m,{className:"upload-icon"}),"Load Plan"]})]}),(0,i.jsxs)(d,{onClick:()=>{let t="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","my_custom_plan.json"),a.click()},className:"save-as-file-button",children:[(0,i.jsx)(v,{className:"save-icon"}),"Save as File"]}),(0,i.jsx)("input",{type:"file",ref:o,onChange:e=>{var a;let i=null===(a=e.target.files)||void 0===a?void 0:a[0];if(i){let e=new FileReader;e.onload=e=>{var a;let i=null===(a=e.target)||void 0===a?void 0:a.result;if("string"==typeof i)try{let e=JSON.parse(i);t(e),alert("여행 계획을 성공적으로 불러왔습니다!")}catch(e){alert("파일을 읽는 중 오류가 발생했습니다.")}},e.readAsText(i)}},style:{display:"none"},accept:".json"})]}),(0,i.jsx)("div",{className:"days-container",children:e.sort((e,t)=>parseInt(e.title.split(" ")[1])-parseInt(t.title.split(" ")[1])).map((e,t)=>(0,i.jsxs)("div",{className:"day-container ".concat(a===t?"expanded":"collapsed"),children:[(0,i.jsxs)("div",{className:"day-header",children:[(0,i.jsxs)("h3",{className:"day-title",onClick:()=>N(t),children:[e.title,a===t?(0,i.jsx)(p,{className:"chevron-icon"}):(0,i.jsx)(f,{className:"chevron-icon"})]}),(0,i.jsx)(d,{variant:"ghost",size:"icon",className:"remove-day-button",onClick:()=>h(t),children:(0,i.jsx)(x,{className:"trash-icon"})})]}),a===t&&(0,i.jsxs)("div",{className:"activities-container",children:[e.activities.map((e,a)=>(0,i.jsxs)("div",{className:"activity-item",children:[(0,i.jsx)(u,{placeholder:"장소",value:e.place,onChange:e=>j(t,a,"place",e.target.value)}),(0,i.jsxs)("div",{className:"time-input-container",children:[(0,i.jsx)(u,{className:"time-input",placeholder:"시간 : ex(10:00)",value:e.time,onChange:e=>j(t,a,"time",e.target.value)}),(0,i.jsxs)("select",{className:"period-select",value:e.period,onChange:e=>j(t,a,"period",e.target.value),children:[(0,i.jsx)("option",{value:"AM",children:"오전"}),(0,i.jsx)("option",{value:"PM",children:"오후"})]})]}),(0,i.jsx)(u,{placeholder:"할 일",value:e.activity,onChange:e=>j(t,a,"activity",e.target.value)}),(0,i.jsx)(d,{variant:"ghost",size:"icon",className:"remove-activity-button",onClick:()=>g(t,a),children:(0,i.jsx)(x,{className:"trash-icon"})})]},a)),(0,i.jsx)(d,{variant:"outline",onClick:()=>y(t),className:"add-activity-button",children:"Add Activity"})]})]},t))})]})]})})})]})}a(6538)},9354:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var i=a(4839),n=a(6164);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,i.W)(t))}},6538:function(){}},function(e){e.O(0,[877,637,231,971,23,744],function(){return e(e.s=7077)}),_N_E=e.O()}]);